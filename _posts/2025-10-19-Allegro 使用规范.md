---
layout:     post
title:      Allegro 使用规范
subtitle:   没有规矩，不成体统
date:       2025-10-19
author:     yucailee
header-img: img/home-bg-o.jpg
catalog: true
tags:
    - 电路技术
---

我用 Cadence allegro 做电路板设计，当前用的版本是 Allegro 17.2-2016。为了风格统一和工作方便，给自己制定一些使用规范。

![]({{site.baseurl}}/img/allegro-logo.png)

#### 总则

所有元件封装自己制作，总是放到 D 盘固定目录下。这样在电脑间传递板图时，总是可以对应到封装库。

避免用软件自带的封装。这些封装只是示例，不是所谓的标准。

#### 文字

Allegro 中不能使用汉字，西文也只能使用一种字体，不知为何如此。它只能变化字符的大小，称字号 Text Block。设若干字号，各自有特定的用法。见下表。

| 字号  | 别名  | 宽 | 高 | 粗 | 字间 | 用途 |
|:--:|--|--|--|--|--|--|
| 1 | defX | 26   | 30  | 6  | 0.1| 小字，用于元件编号   |
| 1- | defX- | 25   | 28  | 6  | 0.1| 稍小字，用于元件编号，当小元件排布紧凑时   |
| 2 | defY | 32   | 34  | 8  | 0.5| 稍大字，用于某些重要元件的编号  |
| 3 | BigZ | 100  | 120 | 23 | 1  | 大字，一般用于板标志   |
| 4 | PinNo | 16  | 24  | 3  | 0.1  | 更小字，用于元件引脚编号  |
| 5 | Other | 25  | 30  | 2  | 0.1  | 用于其他层，一般不需显示  |
| | | | | | | |

由于不能设定第二种字体，故只好后处理。在 CAM350 里查看 gerber 时，在 silkscreen 层加上需要的字符，一般是板型号、版本、年月
和 logo 。它们的设置如下。

| 序号  | 字体  | 大小 | 次选大小 | 粗 | 用途 |
|:--:|--|--|--|--|--|
| 1 | Arial Black | 75   | 90  | x | 板型号、版本、年月    |
| 2 | Cooper Black | 100   | 120  | x | 一般是公司 logo   |
| | | | | | |


#### 元件封装

allegro 有五种 symbol，见下表。在 PCB editor 里可以创建或编辑 symbol。每个 symbol 均有一个绘图文件 *.dra，是编辑用的。
另外有一个 symbol 文件。

| symbol  | 文件  | 高 | 宽 | 粗 | 用途 |
|:--:|--|--|--|--|--|
| package symbol | *.psm | 75   | x  | x | 一般电路器件    |
| mechanical symbol | *.bsm | 100   | x  | x | 机械类器件，无电连接   |
| format symbol | *.osm | 75   | x  | x | 可用来做 logo，一般由 dxf 导入  |
| shape symbol | *.ssm | 100   | x  | x | 形状，一般用来做异形焊盘   |
| flash symbol | *.fsm | 75   | x  | x | 花焊盘用    |
| | | | | | |

制作元件封装，要设置好元件的物理高度。在 Place_Bound Top 层指定这个高度。这样三维显示时能显示出元件的高度。Place_Bound Top 层
用 shape 表示。
还有 Assembly Top 层也是 shape，用来指示与旁边元件的互相干涉？

异形焊盘的制作，先用 shape 做形状，保存为 shape symbol ，然后将其转为 pad 使用。

#### 布局布线

不用负片，只用正片。

* 单中文韵母成（词韵），便于学和忆。

* 语向于英文和结合，易于发声。

* 语简洁，核心谓词变固定序，“不已在被动”六即概况。

#### 出图加工

Gerber 文件用于 PCB 板制造。Gerber 除了各层的图形文件外，还应有孔加工文件。这个文件包含三文件。其一是分孔图，有各个孔和槽的坐标标注，
更有列表，列出各种孔或槽的尺寸及特性。注意，要将孔和槽分开为两个表，引起制造厂注意。 其二是钻孔文件 *.drl，其三是铣槽文件 *.rou。
这两个文件生成时要勾选 Enhanced Excellon format。 
在 CAM350 查看 gerber 时，不要自动导入，要分别导入 层图、钻孔文件、铣槽文件。


#### SKILL

我还没学好 SKILL，要学好。应该是个好东西。


* 专门网站：[allegro-skill](http://allegro-skill.com/)
* 专门网站：[eda365](https://bbs.eda365.com/forum-105-1.html)



<!--
## .7 markdown 方法

*<font color=red>0.1</font>*   表格表示法

| 命令  | 帧头  | 帧长 | 命令字 | 数据 | 校验字 |
|--|--|:--:|--|--|--|
| 开锁 | 0x37 | 4   | 0x03  | 0x01,0x02 |      |
| 开门 | 0x37 | 5   | 0x04  | 0x03,0x04 |      |
| 放水 | 0x37 | 4   | 0x05  | 0xa1,0xa4 |      |
| 装水 | 0x37 | 4   | 0x06  | 0xa1,0xa2 |      |
| | | | | |

*<font color=red>0.2</font>*   代码表示法

````
int main()
{
    printf("goodby, markdown.");
}
````

*<font color=red>.3</font>* 数学表示式

假设有正弦函数 $ y=asin(bx+\omega) $，其自变量为 $x$，因变量为 $y$。该正弦函数的幅值为 $a$，频率为 $b$，初相位为 $\omega$。

$$ x' = Ax + Bu \\
    y = Cx
$$


*<font color=red>.4</font>*  字体指定

*斜体文字* 和 *now who go?*

**加粗文字** 和 **now go you.**


*<font color=red>.5</font>*  颜色指定

*<font color=red>.6</font>*  自动生成目录

> 注意二 也可以放重要的需要特别注意的文字

光耦隔离电路，见下图。  ![光耦隔离电路](./image/opticouple.png "opticouple")

-->

